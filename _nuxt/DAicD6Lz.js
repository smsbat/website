import q from"./9lZ6C2bT.js";import{e as x,C as S,h as w,r as I,D as N,c as r,a as e,b as D,t as a,s as R,d as p,n as v,g as n,m as h,v as $,F as b,j as g,o as c}from"./CBk0VMHx.js";import{_ as C}from"./CFBzlilK.js";import{c as _,r as y,u as M,e as B}from"./DRbxp7SU.js";const U={class:"page-section callback-section"},j={class:"callback-section-img"},z=["alt","title"],E={class:"callback-section-main"},L={class:"section-head"},O={class:"section-head-title"},P={class:"text-content"},W={class:"highlight-blue"},A={class:"highlight-blue"},G={class:"callback-form"},H={class:"form-main"},J=["placeholder"],K={class:"error-msg"},Q={class:"form-item"},X=["placeholder"],Y=["placeholder"],Z={class:"error-msg"},ee={class:"form-hint"},te={class:"form-action"},se={type:"submit",class:"button filled"},le=x({__name:"ContactForm",props:{indexbatFormId:{type:Number,default:69},imgStartIndex:{type:Number,default:5}},setup(m){const F=S(),{locale:T,t:d}=w(),f=I(),i=N({phone:"",email:"",text:""}),k={phone:{required:_.withMessage(()=>d("validation.reqField"),y)},email:{email:B},text:{required:_.withMessage(()=>d("validation.reqField"),y)}},l=M(k,i),V=async()=>{if(await l.value.$validate()){const o=new FormData(f.value);o.set("phone",`${o.get("phone")} * locale: ${T.value}`),o.append("form_id",m.indexbatFormId.toString()),await $fetch("https://loc.indexbat.com/api/survey",{method:"POST",body:o,onResponse:({response:u})=>{if(u.status==200){F.add({severity:"success",summary:d("statuses.success"),detail:d("notifications.success.applicationWasSend"),life:3e3});for(let s in i)l.value[s].$model="",l.value[s].$dirty=!1}}})}};return(t,o)=>{const u=q;return c(),r("div",null,[e("div",U,[e("div",j,[e("img",{src:C,alt:`${t.$t("seo.layouts./contacts.title")}, ${t.$t("global.image")} ${m.imgStartIndex}`,title:`${t.$t("seo.layouts./contacts.description")}, ${t.$t("global.image")} ${m.imgStartIndex}`},null,8,z)]),e("div",E,[e("div",L,[e("div",O,a(t.$t("components.contactForm.title")),1)]),e("form",{ref_key:"formRef",ref:f,class:"section-content",onSubmit:R(V,["prevent"])},[e("div",P,[e("p",null,[p(a(t.$t("components.contactForm.subTitle[0]"))+" ",1),e("span",W,a(t.$t("components.contactForm.subTitle[1]")),1),p(a(t.$t("components.contactForm.subTitle[2]")),1)]),e("p",null,a(t.$t("components.contactForm.subTitle[3]")),1),e("p",null,[p(a(t.$t("components.contactForm.subTitle[4]"))+" ",1),e("span",A,a(t.$t("components.contactForm.subTitle[5]")),1)])]),e("div",G,[e("div",H,[e("div",{class:v(["form-item",{error:n(l).phone.$errors.length}])},[h(e("input",{name:"phone","onUpdate:modelValue":o[0]||(o[0]=s=>n(i).phone=s),class:"textbox",placeholder:t.$t("global.phoneNumber")},null,8,J),[[$,n(i).phone]]),(c(!0),r(b,null,g(n(l).phone.$errors,s=>(c(),r("div",{class:"input-errors",key:s.$uid},[e("div",K,a(s.$message),1)]))),128))],2),e("div",Q,[h(e("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>n(i).email=s),type:"text",name:"email",class:"textbox",placeholder:t.$t("global.email")},null,8,X),[[$,n(i).email]])]),e("div",{class:v(["form-item",{error:n(l).text.$errors.length}])},[h(e("input",{name:"text","onUpdate:modelValue":o[2]||(o[2]=s=>n(i).text=s),class:"textarea",placeholder:t.$t("global.request")},null,8,Y),[[$,n(i).text]]),(c(!0),r(b,null,g(n(l).text.$errors,s=>(c(),r("div",{class:"input-errors",key:s.$uid},[e("div",Z,a(s.$message),1)]))),128))],2)]),e("div",ee,a(t.$t("components.contactForm.hint")),1),e("div",te,[e("button",se,a(t.$t("components.contactForm.sendRequest")),1)])])],544)])]),D(u)])}}});export{le as _};
