import A from"./IREBx7Fy.js";import O from"./C9PSglOH.js";import S from"./B3qKd6Jk.js";import F from"./Bi11cQxi.js";import k from"./1gYOIHoP.js";import L from"./Id-ME9bN.js";import j from"./CNgUhivm.js";import E from"./62cARojG.js";import P from"./eLogpSrx.js";import{e as G,h as H,C as J,y as K,r as h,c as a,b as r,a as d,g as l,F as g,j as b,t as u,s as Q,o as n}from"./DxTVTiTZ.js";import{c as p,r as y,e as X,u as Y}from"./BjC5xxV1.js";const Z=()=>{const f=new Date;return f.setDate(f.getDate()+1),f},ee=f=>f.includes("http"),te={class:"text-red-500 -mt-4 text-xs"},le={class:"text-red-500 -mt-4 text-xs"},oe={class:"text-red-500 -mt-4 text-xs"},se={class:"text-red-500 -mt-4 text-xs"},ae={class:"text-red-500 -mt-4 text-xs"},ne={class:"text-red-500 -mt-4 text-xs"},re={class:"text-red-500 -mt-4 text-xs"},ue={class:"text-red-500 -mt-4 text-xs"},ie={class:"flex items-center gap-4"},me={class:"text-red-500 -mt-4 text-xs"},de={class:"w-full"},pe={class:"text-xs"},ce={class:"text-red-500 -mt-4 text-xs"},ge={class:"w-full"},be={class:"text-red-500 -mt-4 text-xs"},ye={class:"text-xs mt-1"},fe={class:"w-full"},he={class:"text-xs mt-1"},$e={class:"w-full"},Re={class:"text-xs mt-1"},Ve={class:"w-full"},we={class:"text-xs mt-1"},Ce=G({__name:"RegisterBotForm",emits:["register"],setup(f,{emit:ve}){const{t:i}=H(),q=J(),R=K().public.baseURL,w=h();h();const v=h([]),N=async s=>{await $fetch(`${R}/user/country`,{params:{text:s},onResponse({response:o}){v.value=o._data}})},t=h({firstName:"",lastName:"",email:"",countryId:null,clientId:null,name:null,companyName:"",companyId:null,companyWebsite:"",isBuisnessAccount:!1,organizationTypeId:null,inquiry:"",phone:null,launchDate:null,desiredURI:""}),$=h(!1),x={firstName:{required:p.withMessage(()=>i("botReg.nameReq"),y)},lastName:{required:p.withMessage(()=>i("botReg.lastNameReq"),y)},email:{required:p.withMessage(()=>i("botReg.emailReq"),y),email:p.withMessage(()=>i("botReg.emailValid"),X)},name:{required:p.withMessage(()=>i("botReg.nameReq"),y)},countryId:{required:p.withMessage(()=>i("botReg.countryReq"),y)},companyName:{required:p.withMessage(()=>i("botReg.companyReq"),y)},companyWebsite:{required:p.withMessage(()=>i("botReg.siteReq"),y),mustBeWebsite:p.withMessage(()=>i("validation.mustBeWebsite"),ee)},organizationTypeId:{required:p.withMessage(()=>i("botReg.orgTypeReq"),y)},inquiry:{required:p.withMessage(()=>i("botReg.inquiryReq"),y)},phone:{required:p.withMessage(()=>i("botReg.phoneReq"),y)},launchDate:{required:p.withMessage(()=>i("botReg.launchDateReq"),y)}},m=Y(x,t),I=()=>{t.value.firstName="",t.value.lastName="",t.value.email="",t.value.countryId=null,t.value.clientId=null,t.value.name=null,t.value.companyName="",t.value.companyId=null,t.value.companyWebsite="",t.value.isBuisnessAccount=!1,t.value.organizationTypeId=null,t.value.inquiry="",t.value.phone=null,t.value.launchDate=null,t.value.desiredURI=""},D=async()=>{var o;if(await m.value.$validate()){typeof t.value.phone=="number"&&(t.value.phone=t.value.phone.toString(),t.value.phone.slice(0,1));const V={...t.value,countryId:(o=t.value.countryId)==null?void 0:o.id};$.value=!0;try{await $fetch(`${R}/bots/creation_application`,{method:"POST",body:V,async onResponse({response:c}){c.status===200&&(q.add({severity:"success",summary:i("statuses.success"),detail:i("notifications.success.botApplicationCreated"),life:3e3}),setTimeout(()=>{$.value=!1},1e3))}}),I(),m.value.$reset()}catch{}finally{$.value=!1}}},U=async()=>{await $fetch(`${R}/user/organization/types`,{onResponse({response:s}){w.value=s._data}})};return(s,o)=>{const V=A,c=O,T=S,_=F,B=k,M=L,z=j,C=E,W=P;return n(),a("form",{class:"bot-reg-form flex flex-col gap-4 w-full",onSubmit:Q(D,["prevent"])},[r(V),r(c,{class:"p-inputtext",modelValue:l(t).firstName,"onUpdate:modelValue":o[0]||(o[0]=e=>l(t).firstName=e),placeholder:s.$t("botReg.firstName")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).firstName.$errors,e=>(n(),a("small",te,u(e.$message),1))),256)),r(c,{modelValue:l(t).lastName,"onUpdate:modelValue":o[1]||(o[1]=e=>l(t).lastName=e),placeholder:s.$t("botReg.lastName")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).lastName.$errors,e=>(n(),a("small",le,u(e.$message),1))),256)),r(c,{modelValue:l(t).email,"onUpdate:modelValue":o[2]||(o[2]=e=>l(t).email=e),placeholder:s.$t("botReg.email")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).email.$errors,e=>(n(),a("small",oe,u(e.$message),1))),256)),r(T,{modelValue:l(t).phone,"onUpdate:modelValue":o[3]||(o[3]=e=>l(t).phone=e),placeholder:s.$t("botReg.phone"),mode:"decimal","use-grouping":!1,inputmode:"decimal",prefix:"+"},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).phone.$errors,e=>(n(),a("small",se,u(e.$message),1))),256)),d("div",null,[r(_,{modelValue:l(t).countryId,"onUpdate:modelValue":o[4]||(o[4]=e=>l(t).countryId=e),suggestions:l(v),class:"w-full","option-label":"name",onComplete:o[5]||(o[5]=e=>N(e.query)),placeholder:s.$t("botReg.country"),"force-selection":""},null,8,["modelValue","suggestions","placeholder"]),(n(!0),a(g,null,b(l(m).countryId.$errors,e=>(n(),a("small",ae,u(e.$message),1))),256))]),r(c,{modelValue:l(t).companyName,"onUpdate:modelValue":o[6]||(o[6]=e=>l(t).companyName=e),placeholder:s.$t("botReg.company")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).companyName.$errors,e=>(n(),a("small",ne,u(e.$message),1))),256)),r(c,{modelValue:l(t).name,"onUpdate:modelValue":o[7]||(o[7]=e=>l(t).name=e),placeholder:s.$t("botReg.botName")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).name.$errors,e=>(n(),a("small",re,u(e.$message),1))),256)),r(c,{modelValue:l(t).companyWebsite,"onUpdate:modelValue":o[8]||(o[8]=e=>l(t).companyWebsite=e),placeholder:s.$t("botReg.site")},null,8,["modelValue","placeholder"]),(n(!0),a(g,null,b(l(m).companyWebsite.$errors,e=>(n(),a("small",ue,u(e.$message),1))),256)),d("div",ie,[r(B,{modelValue:l(t).isBuisnessAccount,"onUpdate:modelValue":o[9]||(o[9]=e=>l(t).isBuisnessAccount=e)},null,8,["modelValue"]),d("span",null,u(s.$t("botReg.isBusiness")),1)]),r(M,{modelValue:l(t).organizationTypeId,"onUpdate:modelValue":o[10]||(o[10]=e=>l(t).organizationTypeId=e),options:l(w),"option-label":"name",class:"w-full","option-value":"id",placeholder:s.$t("botReg.orgType"),onClick:o[11]||(o[11]=e=>U())},null,8,["modelValue","options","placeholder"]),(n(!0),a(g,null,b(l(m).organizationTypeId.$errors,e=>(n(),a("small",me,u(e.$message),1))),256)),d("div",de,[r(z,{modelValue:l(t).inquiry,"onUpdate:modelValue":o[12]||(o[12]=e=>l(t).inquiry=e),placeholder:s.$t("botReg.inquiry"),class:"grow w-full"},null,8,["modelValue","placeholder"]),d("p",pe,u(s.$t("botReg.inquiryDescr")),1),(n(!0),a(g,null,b(l(m).inquiry.$errors,e=>(n(),a("small",ce,u(e.$message),1))),256))]),d("div",ge,[r(C,{modelValue:l(t).launchDate,"onUpdate:modelValue":o[13]||(o[13]=e=>l(t).launchDate=e),placeholder:s.$t("botReg.botLaunchDate"),class:"w-full","min-date":("getTomorrowDay"in s?s.getTomorrowDay:l(Z))()},null,8,["modelValue","placeholder","min-date"]),(n(!0),a(g,null,b(l(m).launchDate.$errors,e=>(n(),a("small",be,u(e.$message),1))),256)),d("p",ye,u(s.$t("botReg.launchDateDescr")),1)]),d("div",fe,[r(c,{class:"w-full",modelValue:l(t).desiredURI,"onUpdate:modelValue":o[14]||(o[14]=e=>l(t).desiredURI=e),placeholder:s.$t("botReg.desiredUri")},null,8,["modelValue","placeholder"]),d("p",he,u(s.$t("botReg.uriDescr")),1)]),d("div",$e,[r(c,{modelValue:l(t).legalName,"onUpdate:modelValue":o[15]||(o[15]=e=>l(t).legalName=e),placeholder:s.$t("botReg.legalName")},null,8,["modelValue","placeholder"]),d("p",Re,u(s.$t("botReg.legalNameDescription")),1)]),d("div",Ve,[r(c,{modelValue:l(t).beneficialOwner,"onUpdate:modelValue":o[16]||(o[16]=e=>l(t).beneficialOwner=e),placeholder:s.$t("botReg.beneficialOwner")},null,8,["modelValue","placeholder"]),d("p",we,u(s.$t("botReg.beneficialOwnerDescription")),1)]),r(W,{type:"submit",disabled:l($),label:s.$t("botReg.regBot")},null,8,["disabled","label"])],32)}}});export{Ce as _};
