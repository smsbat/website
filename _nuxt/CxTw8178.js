import L from"./BpNXTNWN.js";import F from"./K9BkmlhG.js";import P from"./CHtXNMDj.js";import H from"./Dqr_q8xb.js";import K from"./bGSmU408.js";import Y from"./CwsxW-kc.js";import j from"./BHy0aicH.js";import G from"./DljqkVvs.js";import J from"./RgBR2gqa.js";import Q from"./DHrEO11b.js";import{e as X,h as Z,C as ee,y as te,r as $,G as le,c as r,a,b as u,g as o,F as g,j as b,t as n,s as oe,w as se,q as ae,o as i}from"./C58vgCEy.js";import{c as p,r as y,e as ne,u as re}from"./CMD85id1.js";const ie=()=>{const h=new Date;return h.setDate(h.getDate()+1),h},ue=h=>h.includes("http"),me={class:"text-red-500 -mt-4 text-xs"},de={class:"text-red-500 -mt-4 text-xs"},pe={class:"text-red-500 -mt-4 text-xs"},ce={class:"text-red-500 -mt-4 text-xs"},ge={class:"text-red-500 -mt-4 text-xs"},be={class:"text-red-500 -mt-4 text-xs"},ye={class:"text-red-500 -mt-4 text-xs"},he={class:"text-red-500 -mt-4 text-xs"},fe={class:"flex items-center gap-4"},$e={class:"text-red-500 -mt-4 text-xs"},Re={class:"w-full"},ve={class:"text-xs"},we={class:"text-red-500 -mt-4 text-xs"},Ve={class:"w-full"},qe={class:"text-red-500 -mt-4 text-xs"},Ne={class:"text-xs mt-1"},Ie={class:"w-full"},Ue={class:"text-xs mt-1"},De={class:"w-full"},_e={class:"text-xs mt-1"},xe={class:"w-full"},Te={class:"text-xs mt-1"},Be={class:"payment-modal-content"},Ce={class:"payment-description"},Me={class:"payment-amount"},We={class:"note"},Oe={class:"payment-options"},ke={class:"payment-note"},ze="https://whop.com/checkout/plan_0SmyxDt1mmYIV",Ae="UA",Ze=X({__name:"RegisterBotForm",emits:["register"],setup(h,{emit:Se}){const{t:m}=Z(),N=ee(),v=te().public.baseURL,V=$();$();const f=$(!1),q=$([]),I=async s=>{await $fetch(`${v}/user/country`,{params:{text:s},onResponse({response:l}){q.value=l._data}})},t=$({firstName:"",lastName:"",email:"",countryId:null,clientId:null,name:null,companyName:"",companyId:null,companyWebsite:"",isBuisnessAccount:!1,organizationTypeId:null,inquiry:"",phone:null,launchDate:null,desiredURI:""}),R=$(!1),U={firstName:{required:p.withMessage(()=>m("botReg.nameReq"),y)},lastName:{required:p.withMessage(()=>m("botReg.lastNameReq"),y)},email:{required:p.withMessage(()=>m("botReg.emailReq"),y),email:p.withMessage(()=>m("botReg.emailValid"),ne)},name:{required:p.withMessage(()=>m("botReg.nameReq"),y)},countryId:{required:p.withMessage(()=>m("botReg.countryReq"),y)},companyName:{required:p.withMessage(()=>m("botReg.companyReq"),y)},companyWebsite:{required:p.withMessage(()=>m("botReg.siteReq"),y),mustBeWebsite:p.withMessage(()=>m("validation.mustBeWebsite"),ue)},organizationTypeId:{required:p.withMessage(()=>m("botReg.orgTypeReq"),y)},inquiry:{required:p.withMessage(()=>m("botReg.inquiryReq"),y)},phone:{required:p.withMessage(()=>m("botReg.phoneReq"),y)},launchDate:{required:p.withMessage(()=>m("botReg.launchDateReq"),y)}},d=re(U,t),D=()=>{t.value.firstName="",t.value.lastName="",t.value.email="",t.value.countryId=null,t.value.clientId=null,t.value.name=null,t.value.companyName="",t.value.companyId=null,t.value.companyWebsite="",t.value.isBuisnessAccount=!1,t.value.organizationTypeId=null,t.value.inquiry="",t.value.phone=null,t.value.launchDate=null,t.value.desiredURI=""},_=le(()=>{var s;return((s=t.value.countryId)==null?void 0:s.code)===Ae}),x=async()=>{var l;if(await d.value.$validate()){typeof t.value.phone=="number"&&(t.value.phone=t.value.phone.toString(),t.value.phone.slice(0,1));const w={...t.value,countryId:(l=t.value.countryId)==null?void 0:l.id};R.value=!0;try{await $fetch(`${v}/bots/creation_application`,{method:"POST",body:w,async onResponse({response:c}){c.status===200&&(N.add({severity:"success",summary:m("statuses.success"),detail:m("notifications.success.botApplicationCreated"),life:3e3}),_.value||(f.value=!0),setTimeout(()=>{R.value=!1},1e3))}}),D(),d.value.$reset()}catch{}finally{R.value=!1}}},T=()=>{window.open(ze,"_blank"),f.value=!1},B=()=>{window.open("viber://chat?service=26076","_blank"),f.value=!1},C=async()=>{await $fetch(`${v}/user/organization/types`,{onResponse({response:s}){V.value=s._data}})};return(s,l)=>{const w=L,c=F,M=P,W=H,O=K,k=Y,z=j,A=G,S=J,E=Q;return i(),r(g,null,[a("form",{class:"bot-reg-form flex flex-col gap-4 w-full",onSubmit:oe(x,["prevent"])},[u(w),u(c,{class:"p-inputtext",modelValue:o(t).firstName,"onUpdate:modelValue":l[0]||(l[0]=e=>o(t).firstName=e),placeholder:s.$t("botReg.firstName")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).firstName.$errors,e=>(i(),r("small",me,n(e.$message),1))),256)),u(c,{modelValue:o(t).lastName,"onUpdate:modelValue":l[1]||(l[1]=e=>o(t).lastName=e),placeholder:s.$t("botReg.lastName")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).lastName.$errors,e=>(i(),r("small",de,n(e.$message),1))),256)),u(c,{modelValue:o(t).email,"onUpdate:modelValue":l[2]||(l[2]=e=>o(t).email=e),placeholder:s.$t("botReg.email")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).email.$errors,e=>(i(),r("small",pe,n(e.$message),1))),256)),u(M,{modelValue:o(t).phone,"onUpdate:modelValue":l[3]||(l[3]=e=>o(t).phone=e),placeholder:s.$t("botReg.phone"),mode:"decimal","use-grouping":!1,inputmode:"decimal",prefix:"+"},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).phone.$errors,e=>(i(),r("small",ce,n(e.$message),1))),256)),a("div",null,[u(W,{modelValue:o(t).countryId,"onUpdate:modelValue":l[4]||(l[4]=e=>o(t).countryId=e),suggestions:o(q),class:"w-full","option-label":"name",onComplete:l[5]||(l[5]=e=>I(e.query)),placeholder:s.$t("botReg.country"),"force-selection":""},null,8,["modelValue","suggestions","placeholder"]),(i(!0),r(g,null,b(o(d).countryId.$errors,e=>(i(),r("small",ge,n(e.$message),1))),256))]),u(c,{modelValue:o(t).companyName,"onUpdate:modelValue":l[6]||(l[6]=e=>o(t).companyName=e),placeholder:s.$t("botReg.company")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).companyName.$errors,e=>(i(),r("small",be,n(e.$message),1))),256)),u(c,{modelValue:o(t).name,"onUpdate:modelValue":l[7]||(l[7]=e=>o(t).name=e),placeholder:s.$t("botReg.botName")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).name.$errors,e=>(i(),r("small",ye,n(e.$message),1))),256)),u(c,{modelValue:o(t).companyWebsite,"onUpdate:modelValue":l[8]||(l[8]=e=>o(t).companyWebsite=e),placeholder:s.$t("botReg.site")},null,8,["modelValue","placeholder"]),(i(!0),r(g,null,b(o(d).companyWebsite.$errors,e=>(i(),r("small",he,n(e.$message),1))),256)),a("div",fe,[u(O,{modelValue:o(t).isBuisnessAccount,"onUpdate:modelValue":l[9]||(l[9]=e=>o(t).isBuisnessAccount=e)},null,8,["modelValue"]),a("span",null,n(s.$t("botReg.isBusiness")),1)]),u(k,{modelValue:o(t).organizationTypeId,"onUpdate:modelValue":l[10]||(l[10]=e=>o(t).organizationTypeId=e),options:o(V),"option-label":"name",class:"w-full","option-value":"id",placeholder:s.$t("botReg.orgType"),onClick:l[11]||(l[11]=e=>C())},null,8,["modelValue","options","placeholder"]),(i(!0),r(g,null,b(o(d).organizationTypeId.$errors,e=>(i(),r("small",$e,n(e.$message),1))),256)),a("div",Re,[u(z,{modelValue:o(t).inquiry,"onUpdate:modelValue":l[12]||(l[12]=e=>o(t).inquiry=e),placeholder:s.$t("botReg.inquiry"),class:"grow w-full"},null,8,["modelValue","placeholder"]),a("p",ve,n(s.$t("botReg.inquiryDescr")),1),(i(!0),r(g,null,b(o(d).inquiry.$errors,e=>(i(),r("small",we,n(e.$message),1))),256))]),a("div",Ve,[u(A,{modelValue:o(t).launchDate,"onUpdate:modelValue":l[13]||(l[13]=e=>o(t).launchDate=e),placeholder:s.$t("botReg.botLaunchDate"),class:"w-full","min-date":("getTomorrowDay"in s?s.getTomorrowDay:o(ie))()},null,8,["modelValue","placeholder","min-date"]),(i(!0),r(g,null,b(o(d).launchDate.$errors,e=>(i(),r("small",qe,n(e.$message),1))),256)),a("p",Ne,n(s.$t("botReg.launchDateDescr")),1)]),a("div",Ie,[u(c,{class:"w-full",modelValue:o(t).desiredURI,"onUpdate:modelValue":l[14]||(l[14]=e=>o(t).desiredURI=e),placeholder:s.$t("botReg.desiredUri")},null,8,["modelValue","placeholder"]),a("p",Ue,n(s.$t("botReg.uriDescr")),1)]),a("div",De,[u(c,{modelValue:o(t).legalName,"onUpdate:modelValue":l[15]||(l[15]=e=>o(t).legalName=e),placeholder:s.$t("botReg.legalName")},null,8,["modelValue","placeholder"]),a("p",_e,n(s.$t("botReg.legalNameDescription")),1)]),a("div",xe,[u(c,{modelValue:o(t).beneficialOwner,"onUpdate:modelValue":l[16]||(l[16]=e=>o(t).beneficialOwner=e),placeholder:s.$t("botReg.beneficialOwner")},null,8,["modelValue","placeholder"]),a("p",Te,n(s.$t("botReg.beneficialOwnerDescription")),1)]),u(S,{type:"submit",disabled:o(R),label:s.$t("botReg.regBot")},null,8,["disabled","label"])],32),u(E,{visible:o(f),"onUpdate:visible":l[17]||(l[17]=e=>ae(f)?f.value=e:null),modal:"",header:s.$t("botReg.payment.title"),style:{width:"500px"},closable:!0},{default:se(()=>[a("div",Be,[a("p",Ce,n(s.$t("botReg.payment.description")),1),a("div",Me,[l[18]||(l[18]=a("span",{class:"amount"},"390 EUR",-1)),a("span",We,n(s.$t("registerBotLanding.pricing.vatNote")),1)]),a("div",Oe,[a("button",{onClick:T,class:"payment-btn whop"},[l[19]||(l[19]=a("span",{class:"pi pi-credit-card"},null,-1)),a("div",null,[a("strong",null,n(s.$t("botReg.payment.whop.title")),1),a("small",null,n(s.$t("botReg.payment.whop.description")),1)])]),a("button",{onClick:B,class:"payment-btn swift"},[l[20]||(l[20]=a("span",{class:"pi pi-building"},null,-1)),a("div",null,[a("strong",null,n(s.$t("botReg.payment.swift.title")),1),a("small",null,n(s.$t("botReg.payment.swift.description")),1)])])]),a("p",ke,n(s.$t("botReg.payment.note")),1)])]),_:1},8,["visible","header"])],64)}}});export{Ze as _};
